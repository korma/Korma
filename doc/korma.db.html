<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>korma.db documentation</title></head><body><div id="header"><h1><a href="index.html">Korma 0.3.0-beta6 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3>Namespaces</h3><ul><li><a href="korma.config.html"><span>korma.config</span></a></li><li><a href="korma.core.html"><span>korma.core</span></a></li><li class="current"><a href="korma.db.html"><span>korma.db</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="korma.db.html#var-connection-pool"><span>connection-pool</span></a></li><li><a href="korma.db.html#var-create-db"><span>create-db</span></a></li><li><a href="korma.db.html#var-default-connection"><span>default-connection</span></a></li><li><a href="korma.db.html#var-defdb"><span>defdb</span></a></li><li><a href="korma.db.html#var-delay-pool"><span>delay-pool</span></a></li><li><a href="korma.db.html#var-get-connection"><span>get-connection</span></a></li><li><a href="korma.db.html#var-is-rollback%3F"><span>is-rollback?</span></a></li><li><a href="korma.db.html#var-mssql"><span>mssql</span></a></li><li><a href="korma.db.html#var-mysql"><span>mysql</span></a></li><li><a href="korma.db.html#var-oracle"><span>oracle</span></a></li><li><a href="korma.db.html#var-postgres"><span>postgres</span></a></li><li><a href="korma.db.html#var-rollback"><span>rollback</span></a></li><li><a href="korma.db.html#var-sqlite3"><span>sqlite3</span></a></li><li><a href="korma.db.html#var-transaction"><span>transaction</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>korma.db documentation</h2><pre class="doc">Functions for creating and managing database specifications.
</pre><div class="public" id="var-connection-pool"><h3>connection-pool</h3><div class="usage"><code>(connection-pool spec)</code></div><pre class="doc">Create a connection pool for the given database spec.
</pre></div><div class="public" id="var-create-db"><h3>create-db</h3><div class="usage"><code>(create-db spec)</code></div><pre class="doc">Create a db connection object manually instead of using defdb. This is often useful for
creating connections dynamically, and probably should be followed up with:

(default-connection my-new-conn)</pre></div><div class="public" id="var-default-connection"><h3>default-connection</h3><div class="usage"><code>(default-connection conn)</code></div><pre class="doc">Set the database connection that Korma should use by default when no 
alternative is specified.</pre></div><div class="public" id="var-defdb"><h3>defdb</h3><div class="usage"><code>(defdb db-name spec)</code></div><pre class="doc">Define a database specification. The last evaluated defdb will be used by default
for all queries where no database is specified by the entity.</pre></div><div class="public" id="var-delay-pool"><h3>delay-pool</h3><div class="usage"><code>(delay-pool spec)</code></div><pre class="doc">Return a delay for creating a connection pool for the given spec.
</pre></div><div class="public" id="var-get-connection"><h3>get-connection</h3><div class="usage"><code>(get-connection db)</code></div><pre class="doc">Get a connection from the potentially delayed connection object.
</pre></div><div class="public" id="var-is-rollback%3F"><h3>is-rollback?</h3><div class="usage"><code>(is-rollback?)</code></div><pre class="doc">Returns true if the current transaction will be rolled back
</pre></div><div class="public" id="var-mssql"><h3>mssql</h3><div class="usage"><code>(mssql {:keys [user password db host port], :as opts})</code></div><pre class="doc">Create a database specification for a mssql database. Opts should include keys
for :db, :user, and :password. You can also optionally set host and port.</pre></div><div class="public" id="var-mysql"><h3>mysql</h3><div class="usage"><code>(mysql {:keys [host port db], :as opts})</code></div><pre class="doc">Create a database specification for a mysql database. Opts should include keys
for :db, :user, and :password. You can also optionally set host and port.
Delimiters are automatically set to &quot;`&quot;.</pre></div><div class="public" id="var-oracle"><h3>oracle</h3><div class="usage"><code>(oracle {:keys [host port], :as opts})</code></div><pre class="doc">Create a database specification for an Oracle database. Opts should include keys
for :user and :password. You can also optionally set host and port.</pre></div><div class="public" id="var-postgres"><h3>postgres</h3><div class="usage"><code>(postgres {:keys [host port db], :as opts})</code></div><pre class="doc">Create a database specification for a postgres database. Opts should include keys
for :db, :user, and :password. You can also optionally set host and port.</pre></div><div class="public" id="var-rollback"><h3>rollback</h3><div class="usage"><code>(rollback)</code></div><pre class="doc">Tell this current transaction to rollback.
</pre></div><div class="public" id="var-sqlite3"><h3>sqlite3</h3><div class="usage"><code>(sqlite3 {:keys [db], :as opts})</code></div><pre class="doc">Create a database specification for a SQLite3 database. Opts should include a key
for :db which is the path to the database file.</pre></div><div class="public" id="var-transaction"><h3>transaction</h3><div class="usage"><code>(transaction &amp; body)</code></div><pre class="doc">Execute all queries within the body in a single transaction.
</pre></div></div></body></html>